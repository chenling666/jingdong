(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderConfirmation"],{"05a6":function(t,e,c){"use strict";c("0ed6")},"0e1b":function(t,e,c){"use strict";c("6448")},"0ed6":function(t,e,c){},1148:function(t,e,c){"use strict";var n=c("da84"),r=c("5926"),i=c("577e"),a=c("1d80"),o=n.RangeError;t.exports=function(t){var e=i(a(this)),c="",n=r(t);if(n<0||n==1/0)throw o("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(c+=e);return c}},2154:function(t,e,c){"use strict";c("e747")},"408a":function(t,e,c){var n=c("e330");t.exports=n(1..valueOf)},6448:function(t,e,c){},"75c9":function(t,e,c){"use strict";c.d(e,"a",(function(){return i}));c("b680");var n=c("5502"),r=c("7a23"),i=function(t){var e=new n["b"],c=e.state.cartList,i=function(t,c,n,r){e.commit("changeItemToCart",{shopId:t,productId:c,productInfo:n,num:r})},a=Object(r["b"])((function(){var e,n=(null===(e=c[t])||void 0===e?void 0:e.productList)||{},r={};for(var i in n){var a=n[i];a.count>0&&(r[i]=a)}return r})),o=Object(r["b"])((function(){var e,n=(null===(e=c[t])||void 0===e?void 0:e.shopName)||"";return n})),s=Object(r["b"])((function(){var e,n=null===(e=c[t])||void 0===e?void 0:e.productList,r={total:0,price:0,allChecked:!0};if(n)for(var i in n){var a=n[i];a.check&&(r.total+=a.count,r.price+=a.count*a.price),a.count>0&&!a.check&&(r.allChecked=!1)}return r.price=r.price.toFixed(2),r}));return{cartList:c,productList:a,shopName:o,changeItemToCart:i,calculation:s}}},"99ef":function(t,e,c){},b680:function(t,e,c){"use strict";var n=c("23e7"),r=c("da84"),i=c("e330"),a=c("5926"),o=c("408a"),s=c("1148"),u=c("d039"),d=r.RangeError,l=r.String,_=Math.floor,f=i(s),b=i("".slice),p=i(1..toFixed),v=function(t,e,c){return 0===e?c:e%2===1?v(t,e-1,c*t):v(t*t,e/2,c)},O=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},j=function(t,e,c){var n=-1,r=c;while(++n<6)r+=e*t[n],t[n]=r%1e7,r=_(r/1e7)},h=function(t,e){var c=6,n=0;while(--c>=0)n+=t[c],t[c]=_(n/e),n=n%e*1e7},m=function(t){var e=6,c="";while(--e>=0)if(""!==c||0===e||0!==t[e]){var n=l(t[e]);c=""===c?n:c+f("0",7-n.length)+n}return c},g=u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}));n({target:"Number",proto:!0,forced:g},{toFixed:function(t){var e,c,n,r,i=o(this),s=a(t),u=[0,0,0,0,0,0],_="",p="0";if(s<0||s>20)throw d("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return l(i);if(i<0&&(_="-",i=-i),i>1e-21)if(e=O(i*v(2,69,1))-69,c=e<0?i*v(2,-e,1):i/v(2,e,1),c*=4503599627370496,e=52-e,e>0){j(u,0,c),n=s;while(n>=7)j(u,1e7,0),n-=7;j(u,v(10,n,1),0),n=e-1;while(n>=23)h(u,1<<23),n-=23;h(u,1<<n),j(u,1,1),h(u,2),p=m(u)}else j(u,0,c),j(u,1<<-e,0),p=m(u)+f("0",s);return s>0?(r=p.length,p=_+(r<=s?"0."+f("0",s-r)+p:b(p,0,r-s)+"."+b(p,r-s))):p=_+p,p}})},b957:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),r={class:"wrapper"};function i(t,e,c,i,a,o){var s=Object(n["A"])("Top"),u=Object(n["A"])("ProductList"),d=Object(n["A"])("Order");return Object(n["t"])(),Object(n["f"])("div",r,[Object(n["j"])(s),Object(n["j"])(u),Object(n["j"])(d)])}var a={class:"top"},o={class:"top__header"},s=Object(n["i"])(" 确认订单 "),u=Object(n["h"])('<div class="top__receiver" data-v-176275d9><div class="top__receiver__title" data-v-176275d9>收货地址</div><div class="top__receiver__address" data-v-176275d9>北京理工大学国防科技园2号楼10层</div><div class="top__receiver__info" data-v-176275d9><span class="top__receiver__info__name" data-v-176275d9>瑶妹（先生）</span><span class="top__receiver__info__phone" data-v-176275d9>18911024266</span></div><div class="iconfont top__receiver__enter" data-v-176275d9></div></div>',1);function d(t,e,c,r,i,d){return Object(n["t"])(),Object(n["f"])("div",a,[Object(n["g"])("div",o,[Object(n["g"])("span",{class:"iconfont top__header__back",onClick:e[0]||(e[0]=function(){return r.handleBackClick&&r.handleBackClick.apply(r,arguments)})},""),s]),u])}var l=c("6c02"),_={name:"Top",setup:function(){var t=Object(l["d"])(),e=function(){t.back()};return{handleBackClick:e}}},f=(c("ccaf"),c("6b0d")),b=c.n(f);const p=b()(_,[["render",d],["__scopeId","data-v-176275d9"]]);var v=p,O=(c("b0c0"),c("b680"),function(t){return Object(n["w"])("data-v-30fa6086"),t=t(),Object(n["u"])(),t}),j={class:"products"},h={class:"products__shop"},m={class:"products__wapper"},g={class:"products__list"},C={key:0,class:"products__item"},k=["src"],w={class:"products__item__detail"},I={class:"products__item__title"},L={class:"products__item__price"},x={class:"products__item__single"},N=O((function(){return Object(n["g"])("span",{class:"products__item__yen"},"¥",-1)})),y={class:"products__item__total"},S=O((function(){return Object(n["g"])("span",{class:"products__item__yen"},"¥",-1)}));function T(t,e,c,r,i,a){return Object(n["t"])(),Object(n["f"])("div",j,[Object(n["g"])("div",h,Object(n["C"])(r.shopName),1),Object(n["g"])("div",m,[Object(n["g"])("div",g,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(r.productList,(function(t){return Object(n["t"])(),Object(n["f"])(n["a"],{key:t._id},[t.check?(Object(n["t"])(),Object(n["f"])("div",C,[Object(n["g"])("img",{class:"products__item__img",src:t.imgUrl,alt:""},null,8,k),Object(n["g"])("div",w,[Object(n["g"])("h4",I,Object(n["C"])(t.name),1),Object(n["g"])("div",L,[Object(n["g"])("div",x,[N,Object(n["i"])(Object(n["C"])(t.price)+" × "+Object(n["C"])(t.count),1)]),Object(n["g"])("div",y,[S,Object(n["i"])(Object(n["C"])((t.price*t.count).toFixed(2)),1)])])])])):Object(n["e"])("",!0)],64)})),128))])])])}var F=c("75c9"),R={name:"ProductList",setup:function(){var t=Object(l["c"])(),e=t.params.id,c=Object(F["a"])(e),n=c.productList,r=c.shopName;return{shopId:e,productList:n,shopName:r}}};c("05a6");const A=b()(R,[["render",T],["__scopeId","data-v-30fa6086"]]);var B=A,P=function(t){return Object(n["w"])("data-v-3b92a813"),t=t(),Object(n["u"])(),t},E={class:"order"},J={class:"order__price"},z=Object(n["i"])("实付金额 "),D=P((function(){return Object(n["g"])("h3",{class:"mask__content__title"},"确认要离开收银台？",-1)})),K=P((function(){return Object(n["g"])("p",{class:"mask__content__desc"},"请尽快完成支付，否则将被取消",-1)})),M={class:"mask__content__btns"};function U(t,e,c,r,i,a){return Object(n["t"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("div",E,[Object(n["g"])("div",J,[z,Object(n["g"])("b",null,"¥"+Object(n["C"])(r.calculation.price),1)]),Object(n["g"])("div",{class:"order__btn",onClick:e[0]||(e[0]=function(){return r.handleShowConfirm(!0)})},"提交订单")]),r.showConfirm?(Object(n["t"])(),Object(n["f"])("div",{key:0,class:"mask",onClick:e[4]||(e[4]=function(){return r.handleShowConfirm(!1)})},[Object(n["g"])("div",{class:"mask__content",onClick:e[3]||(e[3]=Object(n["K"])((function(){}),["stop"]))},[D,K,Object(n["g"])("div",M,[Object(n["g"])("div",{class:"mask__content__btn mask__content__btn--first",onClick:e[1]||(e[1]=function(){return r.handleConfirmOrder(!0)})},"取消订单"),Object(n["g"])("div",{class:"mask__content__btn mask__content__btn--last",onClick:e[2]||(e[2]=function(){return r.handleConfirmOrder(!1)})},"确认支付")])])])):Object(n["e"])("",!0)],64)}var W=c("1da1"),q=(c("96cf"),c("5502")),G=c("b775"),H=function(){var t=Object(n["y"])(!1),e=function(e){t.value=e};return{showConfirm:t,handleShowConfirm:e}},Q=function(t,e,c){var n=Object(l["d"])(),r=new q["b"],i=function(){var i=Object(W["a"])(regeneratorRuntime.mark((function i(a){var o,s,u,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(s in o=[],c.value)u=c.value[s],u.check&&o.push({id:parseInt(u._id,10),num:u.count});return i.prev=2,i.next=5,Object(G["b"])("/api/order",{addressId:1,shopId:t,shopName:e.value,isCanceled:a,products:o});case 5:d=i.sent,console.log(d),0===(null===d||void 0===d?void 0:d.errno)&&(r.commit("clearCartData",t),n.push({name:"OrderList"})),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](2),console.log("下单失败",i.t0);case 13:case"end":return i.stop()}}),i,null,[[2,10]])})));return function(t){return i.apply(this,arguments)}}();return{handleConfirmOrder:i}},V={name:"Order",setup:function(){var t=Object(l["c"])(),e=parseInt(t.params.id,10),c=Object(F["a"])(e),n=c.calculation,r=c.shopName,i=c.productList,a=H(),o=a.showConfirm,s=a.handleShowConfirm,u=Q(e,r,i),d=u.handleConfirmOrder;return{calculation:n,showConfirm:o,handleShowConfirm:s,handleConfirmOrder:d}}};c("2154");const X=b()(V,[["render",U],["__scopeId","data-v-3b92a813"]]);var Y=X,Z={name:"OrderConfirmation",components:{Top:v,ProductList:B,Order:Y}};c("0e1b");const $=b()(Z,[["render",i],["__scopeId","data-v-752afd96"]]);e["default"]=$},ccaf:function(t,e,c){"use strict";c("99ef")},e747:function(t,e,c){}}]);
//# sourceMappingURL=orderConfirmation.b1c8a639.js.map