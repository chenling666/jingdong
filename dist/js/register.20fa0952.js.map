{"version":3,"sources":["webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?329c","webpack:///./src/views/register/Register.vue","webpack:///./src/views/register/Register.vue?3369","webpack:///./src/components/Toast.vue?1164","webpack:///./src/views/register/Register.vue?f08c"],"names":["class","message","props","toastData","isShow","toastMessage","showToast","setTimeout","__exports__","render","src","placeholder","username","type","password","isPassword","handlerRegister","handleClick","data","result","errno","router","push","name","components","Toast","setup"],"mappings":"iKACOA,MAAM,S,gDAAX,eAAsC,MAAtC,EAAsC,eAAhB,EAAAC,SAAO,GAKhB,OACbC,MAAO,CAAC,YAGG,EAAc,WACzB,IAAMC,EAAY,eAAS,CACzBC,QAAQ,EACRC,aAAc,KAEVC,EAAY,SAACL,GACjBE,EAAUC,QAAS,EACnBD,EAAUE,aAAeJ,EACzBM,YAAW,WACTJ,EAAUC,QAAS,EACnBD,EAAUE,aAAe,KACxB,MAEL,EAAiC,eAAOF,GAAhCC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,aAChB,MAAO,CAAED,SAAQC,eAAcC,c,iCCjBjC,MAAME,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,U,+ICRRT,MAAM,W,uBACT,eAA6E,OAAxEA,MAAM,eAAeU,IAAI,8C,eACzBV,MAAM,kB,GAONA,MAAM,kB,GAQNA,MAAM,kB,8EAjBb,eA4BM,MA5BN,EA4BM,CA3BJ,EACA,eAMM,MANN,EAMM,C,eALJ,eAIE,SAHAA,MAAM,0BACNW,YAAY,S,qDACH,EAAAC,SAAQ,K,mBAAR,EAAAA,cAGb,eAOM,MAPN,EAOM,C,eANJ,eAKE,SAJAZ,MAAM,0BACNa,KAAK,WACLF,YAAY,Q,qDACH,EAAAG,SAAQ,K,mBAAR,EAAAA,cAGb,eAOM,MAPN,EAOM,C,eANJ,eAKE,SAJAd,MAAM,0BACNa,KAAK,WACLF,YAAY,O,qDACH,EAAAI,WAAU,K,mBAAV,EAAAA,gBAGb,eAAoE,OAA/Df,MAAM,wBAAyB,QAAK,8BAAE,EAAAgB,iBAAA,EAAAA,gBAAA,sBAAiB,MAC5D,eAAmE,OAA9DhB,MAAM,sBAAuB,QAAK,8BAAE,EAAAiB,aAAA,EAAAA,YAAA,sBAAa,WACzC,EAAAb,Q,iBAAb,eAA8C,G,MAAxBH,QAAS,EAAAI,c,6GAY7B,EAAiB,SAACC,GACtB,IAAMY,EAAO,eAAS,CACpBN,SAAU,GACVE,SAAU,GACVC,WAAY,KAIRC,EAAc,yDAAI,uGACF,IAAjBE,EAAKN,UAAmC,IAAjBM,EAAKJ,SADT,gBAEpBR,EAAU,cAFU,0BAGbY,EAAKH,YAAcG,EAAKJ,SAHX,gBAIpBR,EAAU,cAJU,iDAOG,eAAK,qBAAsB,CAC9CM,SAAUM,EAAKN,SACfE,SAAUI,EAAKJ,WATC,QAOZK,EAPY,OAWG,KAAZ,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQC,OACTd,EAAU,QAGVA,EAAU,QAfM,qDAkBlBA,EAAU,QAlBQ,0DAAJ,qDAuBpB,EAA2C,eAAOY,GAA1CN,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,SAAUC,EAA5B,EAA4BA,WAC5B,MAAO,CAAEH,WAAUE,WAAUC,aAAYC,oBAIrC,EAAc,WAClB,IAAMK,EAAS,IAAI,OACbJ,EAAc,WAClBI,EAAOC,KAAK,CAAEC,KAAM,WAEtB,MAAO,CAAEN,gBAGI,GACbM,KAAM,WACNC,WAAY,CAAEC,QAAA,MAEdC,MAJa,WAKX,MAA4C,iBAApCtB,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,aAAcC,EAA9B,EAA8BA,UAC9B,EAA4D,EAAeA,GAAnEM,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,SAAUC,EAA5B,EAA4BA,WAAYC,EAAxC,EAAwCA,gBACxC,EAAwB,IAAhBC,EAAR,EAAQA,YACR,MAAO,CACLb,SAAQC,eAAcO,WAAUE,WAAUC,aAC1CC,kBAAiBC,iB,iCCvFvB,MAAMT,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf,W,oCCAA,W","file":"js/register.20fa0952.js","sourcesContent":["<template>\r\n  <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nexport default {\r\n  props: ['message']\r\n}\r\n\r\nexport const toastEffect = () => {\r\n  const toastData = reactive({\r\n    isShow: false,\r\n    toastMessage: ''\r\n  })\r\n  const showToast = (message) => {\r\n    toastData.isShow = true\r\n    toastData.toastMessage = message\r\n    setTimeout(() => {\r\n      toastData.isShow = false\r\n      toastData.toastMessage = ''\r\n    }, 3000)\r\n  }\r\n  const { isShow, toastMessage } = toRefs(toastData)\r\n  return { isShow, toastMessage, showToast }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scpoed>\r\n@import '../style/viriables.scss';\r\n\r\n.toast {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: .1rem;\r\n  color: $btnColor;\r\n  background: rgba(0, 0, 0, .35);\r\n  border-radius: .05rem;\r\n}\r\n</style>","import { render } from \"./Toast.vue?vue&type=template&id=ca605f3c\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=ca605f3c&lang=scss&scpoed=true\"\n\nimport exportComponent from \"D:\\\\学习\\\\前端\\\\vue\\\\Vue3系统入门与项目实战-Study\\\\jingdong\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\" />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"username\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        type=\"password\"\r\n        placeholder=\"请输入密码\"\r\n        v-model=\"password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        type=\"password\"\r\n        placeholder=\"确认密码\"\r\n        v-model=\"isPassword\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__register-btn\" @click=\"handlerRegister\">注册</div>\r\n    <div class=\"wrapper__login-link\" @click=\"handleClick\">已有账号去登陆</div>\r\n    <Toast v-if=\"isShow\" :message=\"toastMessage\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { post } from '../../utils/request'\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport Toast, { toastEffect } from '../../components/Toast.vue'\r\n\r\n\r\n// 处理注册逻辑\r\nconst registerEffect = (showToast) => {\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    isPassword: ''\r\n  })\r\n\r\n  // const router = new useRouter()\r\n  const handlerRegister = async () => {\r\n    if(data.username == '' || data.password == '') {\r\n      showToast('用户名、密码不能为空')\r\n    }else if(data.isPassword != data.password) {\r\n      showToast('两次密码输入不一致！')\r\n    } else {\r\n      try {\r\n        const result = await post('/api/user/register', {\r\n          username: data.username,\r\n          password: data.password\r\n        })\r\n        if(result?.errno === 0) {\r\n          showToast('注册成功')\r\n          // router.push({ name: 'Login' })\r\n        } else {\r\n          showToast('注册失败')\r\n        }\r\n      } catch(e) {\r\n        showToast('请求失败')\r\n      }\r\n    }\r\n    \r\n  }\r\n  const { username, password, isPassword } = toRefs(data)\r\n  return { username, password, isPassword, handlerRegister }\r\n}\r\n\r\n// 处理登录逻辑\r\nconst loginEffect = () => {\r\n  const router = new useRouter()\r\n  const handleClick = () => {\r\n    router.push({ name: 'Login' })\r\n  }\r\n  return { handleClick }\r\n}\r\n\r\nexport default {\r\n  name: 'Register',\r\n  components: { Toast },\r\n  // 流程处理\r\n  setup() {\r\n    const { isShow, toastMessage, showToast } = toastEffect()\r\n    const { username, password, isPassword, handlerRegister } = registerEffect(showToast)\r\n    const { handleClick } = loginEffect()\r\n    return { \r\n      isShow, toastMessage, username, password, isPassword,\r\n      handlerRegister, handleClick }\r\n  } \r\n}\r\n</script>\r\n\r\n <style lang=\"scss\" scoped>\r\n @import '../../style/viriables.scss';\r\n\r\n .wrapper {\r\n   position: absolute;\r\n   top: 50%;\r\n   left: 0;\r\n   right: 0;\r\n   transform: translateY(-50%);\r\n   &__img {\r\n     display: block;\r\n     margin: 0 auto;\r\n     width: .66rem;\r\n     height: .66rem;\r\n     margin-bottom: .4rem;\r\n   }\r\n   &__input {\r\n     margin: 0 auto;\r\n     height: .46rem;\r\n     margin: 0 .4rem .16rem .4rem;\r\n     border: .01rem solid rgba(0,0,0,0.10);\r\n     border-radius: .06rem;\r\n     background: #F9F9F9;\r\n     &__content {\r\n       box-sizing: border-box;\r\n       width: 100%;\r\n       padding-left: .16rem;\r\n       font-size: .16rem;\r\n       line-height: .46rem;\r\n       color: $content-notice-fontColor;\r\n       border: none;\r\n       border-radius: .06rem;\r\n       background: none;\r\n       outline: none;\r\n     }\r\n   }\r\n   &__register-btn {\r\n     height: .48rem;\r\n     margin: .16rem .4rem;\r\n     line-height: .48rem;\r\n     font-size: .16rem;\r\n     text-align: center;\r\n     color: $btnColor;\r\n     background: #0091FF;\r\n     border-radius: .04rem;\r\n     box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n   }\r\n   &__login-link {\r\n     text-align: center;\r\n     font-size: .14rem;\r\n     line-height: .2rem;\r\n     color: $content-notice-fontColor;\r\n   }\r\n }\r\n </style>","import { render } from \"./Register.vue?vue&type=template&id=20cc9ece&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=20cc9ece&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\学习\\\\前端\\\\vue\\\\Vue3系统入门与项目实战-Study\\\\jingdong\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20cc9ece\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toast.vue?vue&type=style&index=0&id=ca605f3c&lang=scss&scpoed=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Register.vue?vue&type=style&index=0&id=20cc9ece&lang=scss&scoped=true\""],"sourceRoot":""}